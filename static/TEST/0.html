<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zip & Unzip</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.4/pako.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
<script>
    function zip() {
        var textEncoder = new TextEncoder();

        var byteArray = textEncoder.encode(document.getElementById("inputText").value);

        var zippedContent = pako.gzip(byteArray);

        var blob = new Blob([zippedContent]);

        window.saveAs(blob, "hello_world.gzip");
    }
	
	    function unzip() {
        var fileReader = new FileReader();

        fileReader.onload = function (e) {
            var zippedContent = new Uint8Array(e.target.result);

            var byteArray = pako.ungzip(zippedContent);

            var textDecoder = new TextDecoder();

            var textContent = textDecoder.decode(byteArray);

            document.getElementById("inputText").value = textContent;
        }

        fileReader.readAsArrayBuffer(document.getElementById("zippedFile").files[0]);
    }
</script>
  </head>
  <body>
    <div>Input:</div>
    <div><textarea id="inputText" cols="100" rows="30"></textarea></div>
    <div>
      <button onclick="zip.call(this)">Zip</button>
      <input type="file" id="zippedFile" accept=".gzip" />
      <button onclick="unzip.call(this)">Unzip</button>
    </div>
  </body>
</html>